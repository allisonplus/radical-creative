//--------------------------------------------------------------
// Blog Template
//--------------------------------------------------------------
.blog {

	// Site content.
	.site-main {
		position: relative;
	} // .site-main

	// Overwrites default for primary section on other pages.
	.primary {
		float: none;
		height: 100%;
		margin: 0 auto;
		width: 100%;

		@include media($tablet-landscape) {
			padding-top: 40px;
		}

		&:last-child {
			margin-right: auto;
		} // &:last-child
	} // .primary

	// Blog sidebar.
	.secondary {
		width: 100%;
	} // .secondary

	// Title of posts.
	.entry-title {
		margin: 0;
	} // .entry-title

	.entry-content {
		margin-top: 20px;
	} // .entry-content

	// Category links
	.cat-links {
		margin-right: 4px;
	} // .cat-links
} // .blog


//--------------------------------------------------------------
// Blog Nav
//--------------------------------------------------------------
.blog {
	.blog-menu {

		li:last-of-type {
			margin-right: 0;
		}
	} // .blog-menu
} // .blog


//--------------------------------------------------------------
// Nav Icon Animation
//--------------------------------------------------------------
.blog {

	// Trigger for sidebar sliding out.
	.sliding-panel-button {
		@include position(absolute, 0 0 null null);
		@include size( 32px 18px );

		cursor: pointer;
		transform: rotate(0deg);
		transition: 0.5s ease-in-out;

		span {
			@include position(absolute, null null null 0);
			@include size(100% 4px);

			background: $color-teal;
			border-radius: 9px;
			display: block;
			opacity: 1;
			transform: rotate(0deg);
			transition: 0.25s ease-in-out;

			&:nth-child(1) {
				top: 0;
			}

			&:nth-child(2),
			&:nth-child(3) {
				top: 9px;
			}

			&:nth-child(4) {
				top: 18px;
			}
		} // span

		// Animation when sidebar open/closes.
		&.open {

			span {

				&:nth-child(1),
				&:nth-child(4) {
					@include position(absolute, 18px null null 50%);

					width: 0%;
				}

				&:nth-child(2) {
					transform: rotate(45deg);
				}

				&:nth-child(3) {
					transform: rotate(-45deg);
				}
			} // span
		} // .open
	} // .nav-icon
} // .blog


//--------------------------------------------------------------
// Blog sidebar content
//--------------------------------------------------------------
.blog {

	.sidebar-wrapper {
		background-color: $color-gallery;
		padding: $gutter * 2;

		aside {
			max-width: 375px;

			@include media($desktop) {
				margin: 0 auto;
				max-width: 90%;
			}
		}
	}
}


//--------------------------------------------------------------
// Sliding effect of blog sidebar
//--------------------------------------------------------------
.blog {

	// Wrapper around sidebar as a whole.
	.sidebar-wrapper {
		position: relative;

		// Close button once it slides out.
		.sliding-panel-close {
			@include position(absolute, 30px 10% null null);
		}

		// Content of wrapper.
		&.sliding-panel-content {
			@include position(fixed, 46px 0 0 auto);
			@include size(75% 100%);

			-webkit-overflow-scrolling: touch;
			-webkit-transform: translateX(100%); // fixes on Safari 8
			overflow-y: auto;
			transform: translateX(100%);
			transition: all 0.25s linear;
			z-index: 9999;

			// Change that width as screens get bigger.
			@include media($tablet-portrait) {
				@include size(50% 100%);
			}

			@include media($tablet-landscape) {
				@include position(fixed, 80px 0 0 auto);
				@include size(35% 100%);
			}

			@include media($large-desktop) {
				@include size(25% 100%);
			}

			// Make it appear!
			&.is-visible {
				-webkit-transform: translateX(0); // fixes on Safari 8
				transform: translateX(0);
			} // &.is-visible
		} // .sliding-panel-content
	} // .sidebar-wrapper

	// Move primary content over as well when sidebar slides out.
	.primary,
	.menu-primary-menu-container,
	.footer {
		transition: all 0.25s linear;

		&.is-visible {
			transform: translate3d(-85%, 0, 0);

			@include media($tablet-portrait) {
				-webkit-transform: translate3d(-55%, 0, 0);
				transform: translate3d(-55%, 0, 0);
			}

			@include media($tablet-landscape) {
				-webkit-transform: translate3d(-40%, 0, 0);
				transform: translate3d(-40%, 0, 0);
			}
		} // &.is-visible
	} // .primary, .menu-primary-menu-container, .site-footer
} // .blog
